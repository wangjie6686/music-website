webpackJsonp([8],{"2jQA":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t("msXN"),o=t("sK3K"),r=t("gyMJ"),i={name:"login-in",mixins:[s.a],components:{LoginLogo:o.a},data:function(){return{loginForm:{username:"",password:""},rules:{username:[{validator:function(e,n,t){if(!n)return t(new Error("用户名不能为空"));t()},message:"请输入用户名",trigger:"blur"}],password:[{validator:function(e,n,t){""===n?t(new Error("请输入密码")):t()},message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.changeIndex("登录")},methods:{changeIndex:function(e){this.$store.commit("setActiveName",e)},handleleLoginIn:function(){var e=this,n=new URLSearchParams;n.append("username",this.loginForm.username),n.append("password",this.loginForm.password),r.a.loginIn(n).then(function(n){1===n.code?(console.log("---"),e.$message({message:"登录成功",type:"success"}),console.log("----2-----2-"+n.userMsg),e.setUserMsg(n.userMsg),e.$store.commit("setLoginIn",!0),setTimeout(function(){e.changeIndex("首页"),e.$router.push({path:"/"}),e.$router.go(0)},2e3)):e.notify("用户名或密码错误","error")}).catch(function(e){})},setUserMsg:function(e){console.log("----3---2--"+e),this.$store.commit("setUserId",e.id),console.log("----4-"),this.$store.commit("setUsername",e.username),this.$store.commit("setAvator",e.avator)},goSignUp:function(){this.$router.push({path:"/sign-up"})}}},a={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-in"},[t("login-logo"),e._v(" "),t("div",{staticClass:"login"},[e._m(0),e._v(" "),t("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.loginIn.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}})],1),e._v(" "),t("div",{staticClass:"login-btn"},[t("el-button",{on:{click:e.goSignUp}},[e._v("注册")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.handleleLoginIn}},[e._v("登录")])],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"login-head"},[n("span",[this._v("帐号登录")])])}]};var l=t("VU/8")(i,a,!1,function(e){t("L+S2")},"data-v-0e731614",null);n.default=l.exports},"4KnA":function(e,n){},"L+S2":function(e,n){},sK3K:function(e,n,t){"use strict";var s=t("WU9+"),o={name:"login-logo",data:function(){return{ERJI:s.a.ERJI}}},r={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"login-logo"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":this.ERJI}})])])},staticRenderFns:[]};var i=t("VU/8")(o,r,!1,function(e){t("4KnA")},"data-v-f6208d10",null);n.a=i.exports}});
//# sourceMappingURL=8.4671a98aece374dabe5d.js.map